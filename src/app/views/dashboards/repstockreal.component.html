<div class="wrapper wrapper-content">
  <div class="row">
    <div class="col-lg-12">
      <div class="ibox float-e-margins">
        <div class="ibox-title">
          <h5>Reporte de Stock Vacios </h5>       
        </div>
        <div class="ibox-content">
          <form class="m-t" role="form" #formFact="ngForm" (ngSubmit)="CargarPie(formFact)">
            <div class="row">                
              <div class="col-sm-4">
                <div  class="form-group" style="display: flex;" >
                 <div style="padding: 10px 15px 7px;" >Linea: </div>

                 <select name="listUniNeg"  class="form-control" (change)="ChangingValue($event)">
                
                  <option [value]="" selected hidden>--Seleccione--</option>
                  <option name="listaent" *ngFor="let item of this.ListaEntidades" [value]="item.Entidad">{{item.Nombre}}</option>
          
                </select>
              </div>
              
              </div>

              <div class="col-sm-6">
                <div class="form-group" style="display: flex; align-items: center;">
                 
                  <button type="button" (click)="CargarPie(formFact)"
                  class="btn btn-w-m btn-primary" >Consultar</button>                 
                  
                </div>
               </div>

                          
                            
            </div>
            <div class="row">

             
            
            <div class="col-lg-8">
            <div *ngIf = "this.ConsultoReporte" class="col-lg-12">              
             <canvas id="PieChart" (click)="showData($event)"  style="position: relative; height:200vh; width:200vw"></canvas> 
            </div>
            </div>

            <div *ngIf = "this.ConsultoReporte" class="col-lg-2">
              <div  class="ibox ">               
                <div class="ibox-content">
                    <h1 class="no-margins">{{this.stocktotal.toString()}}</h1>
                    <small>Contenedores</small>
                 </div>     
                 <div class="ibox-content">                                   
                  <button type="button"   (click)="VerDetalleGeneral()"
                  class="btn btn-w-m btn-primary" >Detalle</button>     
                </div>            
              </div>
            </div>

            </div>
          </form>

          <div class="row">
            <div id="grilla" class="table-responsive">            
               <table datatable class="datatable table-striped row-border hover" [dtOptions]="dtOptions"
               [dtTrigger]="dtTrigger" >
                <thead>
                  <tr>                                      
                    <th>Contenedor</th>
                    <th>Tamaño</th>
                    <th>Tipo</th>
                    <th>Tara</th>
                    <th>PayLoad</th>  
                    <th>Año Fabricacion</th>                                      
                    <th>Clase</th> 
                    <th>Condicion Caja</th>  
                    <th>Condicion Maquina</th> 
                    <th>Bloqueo</th>
                    <th>Bloqueo Motivo </th>                    
                    <th>Fecha Recepcion</th>
                    <th>Nave</th>
                    <th>Nro Viaje</th> 
                    <th>Marca</th>                                   
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of this.objRepStockRealDet">
                    <td>{{item.Contenedor}}</td>
                    <td>{{item.Size}}</td>
                    <td>{{item.Tipo}}</td>
                    <td>{{item.Tara}}</td>
                    <td>{{item.PayLoad}}</td>
                    <td>{{item.AnioFabr}}</td>
                    <td>{{item.Clase}}</td>    
                    <td>{{item.CondicionCaja}}</td>    
                    <td>{{item.CondicionMaquina}}</td>                      
                    <td>{{item.Bloqueo}}</td>
                    <td>{{item.BloqueoMotivo}}</td>                    
                    <td>{{item.FRecepcion}}</td>                    
                    <td>{{item.Nave}}</td>
                    <td>{{item.NroViaje}}</td>
                    <td>{{item.Marca}}</td>                
                  </tr>                
                </tbody>
              </table>
            </div>
          </div>
          
        </div>
      </div>
    </div>
  </div>
</div>




